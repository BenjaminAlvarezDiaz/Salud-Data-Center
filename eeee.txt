-- Crear tabla pacientes
CREATE TABLE IF NOT EXISTS pacientes (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    "Nombre" CHARACTER VARYING(255) COLLATE Latin1_General_CI_AS,
    "Apellido" CHARACTER VARYING(255) COLLATE Latin1_General_CI_AS,
    "Dni" INTEGER,
    "Email" CHARACTER VARYING(255) COLLATE Latin1_General_CI_AS,
    "Telefono" INTEGER,
    "Telefono2" INTEGER,
    "Sintomas" CHARACTER VARYING(255) COLLATE Latin1_General_CI_AS,
    "Tratamiento" CHARACTER VARYING(255) COLLATE Latin1_General_CI_AS,
    "Diagnostico" CHARACTER VARYING(255) COLLATE Latin1_General_CI_AS,
    "Exp_Medico" CHARACTER VARYING(255) COLLATE Latin1_General_CI_AS,
    "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP
);

-- Crear tabla categoria
CREATE TABLE IF NOT EXISTS categoria (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    "Nombre" CHARACTER VARYING(255) COLLATE pg_catalog."default",
    "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP
);

-- Crear tabla sub_categoria
CREATE TABLE IF NOT EXISTS sub_categoria (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    "Tipo" CHARACTER VARYING(255) COLLATE Latin1_General_CI_AS,
    "Nombre" CHARACTER VARYING(255) COLLATE Latin1_General_CI_AS,
    "CategoriaId" INTEGER,
    "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT "Catego" FOREIGN KEY ("CategoriaId")
        REFERENCES categoria (id)
        ON UPDATE CASCADE
        ON DELETE SET NULL
);

-- Crear tabla empresas_1